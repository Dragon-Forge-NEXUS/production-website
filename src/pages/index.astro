---
// layout import
import Layout from '../layouts/main.astro';
---

<Layout title="Home" description="Coming Soon!" page="/">
	<div class="flex items-center h-screen">
		<div class="m-auto">
			<div class="grid grid-flow-col gap-5 text-center auto-cols-max scale-[2.5]">
				<div class="flex flex-col p-2 bg-neutral rounded-box text-neutral-content">
					<span class="countdown font-mono text-5xl">
						<span style="--value:31;" id="days"></span>
					</span>
					days
				</div> 
				<div class="flex flex-col p-2 bg-neutral rounded-box text-neutral-content">
					<span class="countdown font-mono text-5xl">
						<span style="--value:0;" id="hours"></span>
					</span>
					hours
				</div> 
				<div class="flex flex-col p-2 bg-neutral rounded-box text-neutral-content">
					<span class="countdown font-mono text-5xl">
						<span style="--value:0;" id="min"></span>
					</span>
					min
				</div> 
				<div class="flex flex-col p-2 bg-neutral rounded-box text-neutral-content">
					<span class="countdown font-mono text-5xl">
						<span style="--value:0;" id="sec"></span>
					</span>
					sec
				</div>
			</div>
		</div>
	</div>
</Layout>
<script>
  // Set the target date to 11/4/2023 at 5:00 PM MDT
  const targetDate = new Date('2023-11-04T17:00:00-06:00').getTime();

  // Function to update the countdown
  function updateCountdown() {
    const currentDate = new Date().getTime();
    const timeRemaining = targetDate - currentDate;

    const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
    const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

    document.getElementById('days')?.style.setProperty('--value', String(days));
    document.getElementById('hours')?.style.setProperty('--value', String(hours));
    document.getElementById('min')?.style.setProperty('--value', String(minutes));
    document.getElementById('sec')?.style.setProperty('--value', String(seconds));
  }

  // Update the countdown every second
  setInterval(updateCountdown, 1000);

  // Initial call to set the initial values
  updateCountdown();
</script>